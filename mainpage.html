<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="./mainpage.css">
    </head>
    <body>

        <h1>이미지 폰트 검색/추천</h1>
        <div id="parent" class="outbox">


        <div border="1" id="select_img" class="box">
            <div><h2>이미지 가져오기</h2></div>
            <input type="file" accept="image/*" onchange="loadFile(event)">
            <!-- <img id="output"/> -->
            <br>
            <img src="./input_2.png" border="1" width="400">
        </div>
        <div border="1" id="select_letter" class="box">
            <div><h2>검색할 글자 선택하기</h2></div>
            <img src="./result1.png" border="1" width="400">
            <div><div>선택한 글자</div>
                <img src="./input_1.png" width="200">
            </div>
            <button id="search">검색하기</button>
        </div>
        <div border="1" id="result" class="box">
            <div><h2>검색 결과</h2></div>
            <table border="1">
                <th>순위</th>
                <th>폰트명</th>
                <th>문장</th>
                <tr>
                    <td>1</td>
                    <td>폰트명</td>
                    <td><img src="./output_1.png" width="150"></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>폰트명</td>
                    <td><img src="./output_2.png"width="150"></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>폰트명</td>
                    <td><img src="./output_3.png"width="150"></td>
                </tr>
            </table>

        </div>
    </div>

    </body>
    <script>
        var loadFile = function(event) {
        var reader = new FileReader();
        reader.onload = function(){
            var output = document.getElementById('output');
            output.src = reader.result;
        };
        reader.readAsDataURL(event.target.files[0]);
        //Object로 만드는 경우
        var PostForm = Object();
        PostForm.name = event.target.files[0].name;
        PostForm.file = event.target.files[0];
        console.log(PostForm.name);
        console.log(PostForm.file);
        //FormData 사용
        const formData = new FormData();
        formData.append('image',reader);
        formData.append('name',reader.name);
            axios({
            method : "post",
            url : "https://domain/api/image/",
            data : formData
            })
            .then(response=>{
                console.log(response);
            })
            .catch(error=>{
                console.log(error);
            })
        };
</script>
</html>
